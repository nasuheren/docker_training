- name: build docker docker hub deploy
  stages:
    - build docker image
    - push docker hub

  tasks:
    - name: build docker image
      command:
        - cd /Desktop/docker_training
        - docker build -t dockertraining_flask .

    - name: push docker hub
      command:
        - docker push nasuheren/dockertraining_flask:latest

    - name: deploy
      command:
        - cd /Desktop/docker_training
        - ./deploy.sh